<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="1558px" height="1146px" viewBox="-0.5 -0.5 1558 1146" content="&lt;mxfile host=&quot;app.diagrams.net&quot; modified=&quot;2021-02-07T16:56:00.119Z&quot; agent=&quot;5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/88.0.4324.150 Safari/537.36&quot; etag=&quot;HK2KssGG9umnaV_4GKI0&quot; version=&quot;14.2.9&quot; type=&quot;github&quot;&gt;&lt;diagram id=&quot;C5RBs43oDa-KdzZeNtuy&quot; name=&quot;Page-1&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;" resource="https://app.diagrams.net/#Hpeihuanhuan%2Fdraw.io%2Fmain%2Fspring.svg"><defs><clipPath id="mx-clip-24-31-262-54-0"><rect x="24" y="31" width="262" height="54"/></clipPath><clipPath id="mx-clip-24-85-262-58-0"><rect x="24" y="85" width="262" height="58"/></clipPath><clipPath id="mx-clip-4-271-362-84-0"><rect x="4" y="271" width="362" height="84"/></clipPath><clipPath id="mx-clip-4-355-362-70-0"><rect x="4" y="355" width="362" height="70"/></clipPath><clipPath id="mx-clip-4-425-362-44-0"><rect x="4" y="425" width="362" height="44"/></clipPath><clipPath id="mx-clip-4-469-362-48-0"><rect x="4" y="469" width="362" height="48"/></clipPath></defs><g><path d="M 20 26 L 20 0 L 290 0 L 290 26" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 20 26 L 20 138 L 290 138 L 290 26" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 20 26 L 290 26" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" font-style="italic" pointer-events="none" text-anchor="middle" font-size="12px"><text x="154.5" y="17.5">BeanPostProcessor</text></g><g fill="#000000" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-24-31-262-54-0)" font-size="12px"><text x="25.5" y="43.5">Object postProcessBeforeInitialization</text><text x="25.5" y="57.5">(Object bean, String beanName)</text></g><g fill="#000000" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-24-85-262-58-0)" font-size="12px"><text x="25.5" y="97.5">Object postProcessAfterInitialization</text><text x="25.5" y="111.5">(Object bean, String beanName)</text></g><path d="M 0 266 L 0 240 L 370 240 L 370 266" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 0 266 L 0 540 L 370 540 L 370 266" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 0 266 L 370 266" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" pointer-events="none" text-anchor="middle" font-size="12px"><text x="184.5" y="257.5">InstantiationAwareBeanPostProcessor</text></g><g fill="#000000" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-4-271-362-84-0)" font-size="12px"><text x="5.5" y="283.5">Object postProcessBeforeInstantiation</text><text x="5.5" y="297.5">(Class&lt;?&gt; beanClass, String beanName) </text><text x="5.5" y="311.5">在bean实例化之前执行，如果此方法返回了非null，</text><text x="5.5" y="325.5">那 bean 的创建过程将被短路，直接使用返回的代理对象</text></g><g fill="#000000" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-4-355-362-70-0)" font-size="12px"><text x="5.5" y="367.5">boolean postProcessAfterInstantiation</text><text x="5.5" y="381.5">(Object bean, String beanName)</text><text x="5.5" y="395.5">在bean实例化之后，在spring填充属性之前执行，</text><text x="5.5" y="409.5">如果需要填充bean的属性，则返回true</text></g><g fill="#000000" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-4-425-362-44-0)" font-size="12px"><text x="5.5" y="437.5">PropertyValues postProcessProperties</text><text x="5.5" y="451.5">(PropertyValues pvs, Object bean, String beanName)</text></g><g fill="#000000" font-family="Helvetica" text-decoration="underline" pointer-events="none" clip-path="url(#mx-clip-4-469-362-48-0)" font-size="12px"><text x="5.5" y="481.5"> PropertyValues postProcessPropertyValues(PropertyValues pvs,</text><text x="5.5" y="495.5"> PropertyDescriptor[] pds, Object bean, String beanName)</text><text x="5.5" y="509.5">废弃的方法，建议用上面的方法 postProcessProperties</text></g><path d="M 185 240 L 185 189.31 L 155 189.31 L 155 150.12" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 155 139.12 L 160.5 150.12 L 149.5 150.12 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><rect x="719" y="111" width="120" height="60" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 141px; margin-left: 720px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">doGetBean()</div></div></div></foreignObject><text x="779" y="145" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">doGetBean()</text></switch></g><rect x="719" y="231" width="120" height="60" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 261px; margin-left: 720px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">doCreateBean</div></div></div></foreignObject><text x="779" y="265" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">doCreateBean</text></switch></g><rect x="719" y="291" width="120" height="60" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 321px; margin-left: 720px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">createBeanInstance<br />创建<span>Chicken</span>实例</div></div></div></foreignObject><text x="779" y="325" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">createBeanInstance...</text></switch></g><path d="M 839 381 L 853.57 316.9" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/><rect x="719" y="351" width="120" height="60" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 381px; margin-left: 720px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">addSingletonFactory<br />添加到三级缓存</div></div></div></foreignObject><text x="779" y="385" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">addSingletonFactory...</text></switch></g><path d="M 839 441 L 928.63 441" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 933.88 441 L 926.88 444.5 L 928.63 441 L 926.88 437.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><rect x="719" y="411" width="120" height="60" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 441px; margin-left: 720px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; "><span>populateBean<br />注入属性<br /></span></div></div></div></foreignObject><text x="779" y="445" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">populateBean...</text></switch></g><rect x="719" y="471" width="120" height="60" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 501px; margin-left: 720px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; "><span>initializeBean<br />没有走代理<br /></span></div></div></div></foreignObject><text x="779" y="505" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">initializeBean...</text></switch></g><rect x="710" y="677" width="120" height="60" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 707px; margin-left: 711px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">exposedObject == bean<br />earlySingletonReference 是代理对象</div></div></div></foreignObject><text x="770" y="711" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">exposedObject == bea...</text></switch></g><path d="M 839 201 L 871 201" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/><rect x="719" y="171" width="120" height="60" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 201px; margin-left: 720px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">getSingleton<br />尝试从三个缓存中读取</div></div></div></foreignObject><text x="779" y="205" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">getSingleton...</text></switch></g><rect x="935" y="411" width="120" height="60" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 441px; margin-left: 936px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">doGetBean()</div></div></div></foreignObject><text x="995" y="445" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">doGetBean()</text></switch></g><rect x="935" y="531" width="120" height="60" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 561px; margin-left: 936px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">doCreateBean</div></div></div></foreignObject><text x="995" y="565" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">doCreateBean</text></switch></g><rect x="935" y="591" width="120" height="60" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 621px; margin-left: 936px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">createBeanInstance<br />创建Egg实例</div></div></div></foreignObject><text x="995" y="625" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">createBeanInstance...</text></switch></g><rect x="935" y="651" width="120" height="60" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 681px; margin-left: 936px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">addSingletonFactory<br />添加到三级缓存</div></div></div></foreignObject><text x="995" y="685" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">addSingletonFactory...</text></switch></g><path d="M 1055 741 L 1189.63 741" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 1194.88 741 L 1187.88 744.5 L 1189.63 741 L 1187.88 737.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><rect x="935" y="711" width="120" height="60" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 741px; margin-left: 936px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; "><span>populateBean <br /></span>注入属性<span><br /></span></div></div></div></foreignObject><text x="995" y="745" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">populateBean...</text></switch></g><path d="M 935 801 L 840.71 462.13" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 839.3 457.08 L 844.55 462.88 L 840.71 462.13 L 837.8 464.76 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 1055 801 L 1087.05 888" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/><rect x="935" y="771" width="120" height="60" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 801px; margin-left: 936px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; "><span>initializeBean<br />初始化 egg bean<br /></span></div></div></div></foreignObject><text x="995" y="805" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">initializeBean...</text></switch></g><rect x="935" y="1071" width="194" height="74" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 192px; height: 1px; padding-top: 1108px; margin-left: 936px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">exposedObject 代理的<br />bean 原始的<br />earlySingletonReference null ，因为不允许第三级缓存，</div></div></div></foreignObject><text x="1032" y="1112" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">exposedObject 代理的...</text></switch></g><path d="M 1055 501 L 1084 501" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/><rect x="935" y="471" width="120" height="60" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 501px; margin-left: 936px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">getSingleton<br />尝试从三个缓存中读取</div></div></div></foreignObject><text x="995" y="505" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">getSingleton...</text></switch></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 84px; margin-left: 776px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">Chicken ，此类被代理</div></div></div></foreignObject><text x="776" y="88" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">Chicken ，此类被代理</text></switch></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 388px; margin-left: 995px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">Egg，此类是否被代理都无妨</div></div></div></foreignObject><text x="995" y="392" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">Egg，此类是否被代理都无妨</text></switch></g><path d="M 1196 801 L 1061.07 757.94" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 1056.07 756.34 L 1063.8 755.13 L 1061.07 757.94 L 1061.67 761.8 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 776px; margin-left: 1125px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #FF0000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">注入的Chiken<br />也是被代理的</div></div></div></foreignObject><text x="1125" y="780" fill="#FF0000" font-family="Helvetica" font-size="11px" text-anchor="middle">注入的Chiken...</text></switch></g><path d="M 1316 801 L 1344 800.38" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/><rect x="1196" y="771" width="120" height="60" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 801px; margin-left: 1197px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">getSingleton<br />尝试从三个缓存中读取。</div></div></div></foreignObject><text x="1256" y="805" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">getSingleton...</text></switch></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 798px; margin-left: 1451px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #FF0000; line-height: 1.2; pointer-events: none; white-space: nowrap; "><div><span><font>从三级缓存中找到了工厂，</font></span><span>生成 </span></div><span>Chicken 的</span><span>代理对象，放入二级缓存，<br /></span><span>移除三级缓存<br /></span></div></div></div></foreignObject><text x="1451" y="802" fill="#FF0000" font-family="Helvetica" font-size="12px" text-anchor="middle">从三级缓存中找到了工厂，生成 Chicken 的代理对象，放入二级缓存，...</text></switch></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 686px; margin-left: 1256px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #FF0000; line-height: 1.2; pointer-events: none; white-space: nowrap; "><span style="color: rgb(0 , 0 , 0)">Chicken ，此类被代理</span></div></div></div></foreignObject><text x="1256" y="690" fill="#FF0000" font-family="Helvetica" font-size="12px" text-anchor="middle">Chicken ，此类被代理</text></switch></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 892px; margin-left: 1197px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #FF0000; line-height: 1.2; pointer-events: none; white-space: nowrap; "><div></div><span>初始化过程中，如果 egg 需要被代理，<br />则返回代理对象，不需要返回本身<br /></span></div></div></div></foreignObject><text x="1197" y="896" fill="#FF0000" font-family="Helvetica" font-size="12px" text-anchor="middle">初始化过程中，如果 egg 需要被代理，...</text></switch></g><rect x="1196" y="711" width="120" height="60" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 741px; margin-left: 1197px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">doGetBean()</div></div></div></foreignObject><text x="1256" y="745" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">doGetBean()</text></switch></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 201px; margin-left: 937px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #FF0000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">此时是第一次创建，<br />不会有 Chicken 的缓存</div></div></div></foreignObject><text x="937" y="205" fill="#FF0000" font-family="Helvetica" font-size="12px" text-anchor="middle">此时是第一次创建，&#xa;不会有 Chicken 的缓存</text></switch></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 501px; margin-left: 1143px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #FF0000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">此时是第一次创建，<br />不会有 Egg 的缓存</div></div></div></foreignObject><text x="1143" y="505" fill="#FF0000" font-family="Helvetica" font-size="12px" text-anchor="middle">此时是第一次创建，&#xa;不会有 Egg 的缓存</text></switch></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 314px; margin-left: 958px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #FF0000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">由于Chick需要被代理，添加到三级<br />缓存的工厂在执行的时候将返回一个<br />代理Chicken对象</div></div></div></foreignObject><text x="958" y="318" fill="#FF0000" font-family="Helvetica" font-size="12px" text-anchor="middle">由于Chick需要被代理，添加到三级...</text></switch></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 501px; margin-left: 550px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #FF0000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">初始化bean的时候应当要走代理，但是</div></div></div></foreignObject><text x="550" y="505" fill="#FF0000" font-family="Helvetica" font-size="12px" text-anchor="middle">初始化bean的时候应当要走代理，但是</text></switch></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://www.diagrams.net/doc/faq/svg-export-text-problems" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Viewer does not support full SVG 1.1</text></a></switch></svg>